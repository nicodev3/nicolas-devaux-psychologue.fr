---
import HeaderLink from "./HeaderLink.astro";
import { SITE_TITLE } from "../consts";
---

<header class="m-0 py-5 shadow-md bg-primary">
  <nav
    x-data="{ open: false }"
    class="container flex flex-col md:flex-row md:items-center md:justify-between min-h-[4rem]"
  >
    <div class="flex items-center justify-between text-black-dark">
      <a href="/" class="text-black text-lg hover:text-black">{SITE_TITLE}</a>
      <button
        x-on:click="open = ! open"
        class="md:hidden ml-auto"
        aria-label="Menu"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="currentColor"
          class="size-10"
        >
          <path
            fill-rule="evenodd"
            d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z"
            clip-rule="evenodd"></path>
        </svg>
      </button>
    </div>

    <div
      x-cloak
      :class="open ? 'max-h-96 opacity-100' : 'max-h-0 opacity-0 max-sm:hidden'"
      class="overflow-hidden transition-all duration-300 ease-in-out flex flex-col md:flex-row gap-8 md:gap-4 mt-8 md:mt-0 md:max-h-96 md:opacity-100 *:text-black *:hover:text-black"
    >
      <HeaderLink href="/psychotherapie">Psychothérapie</HeaderLink>
      <HeaderLink href="/therapie-pleine-conscience"
        >Pleine conscience</HeaderLink
      >
      <HeaderLink href="/therapie-cognitive-et-comportementale">TCC</HeaderLink>
      <HeaderLink href="/therapie-acceptation-et-engagement"
        >Thérapie ACT</HeaderLink
      >
      <HeaderLink href="/nicolas-devaux-psychologue">Qui suis-je ?</HeaderLink>
      <HeaderLink href="/blog">Articles</HeaderLink>
    </div>
  </nav>
</header>
<style>
  h2 a,
  h2 a.active {
    text-decoration: none;
  }

  nav a {
    border-bottom: 4px solid transparent;
  }
  nav a.active {
    text-decoration: none;
    border-bottom-color: var(--accent);
  }

  [x-cloak] {
    display: none !important;
  }
</style>
